<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<link rel="stylesheet" href="style.css"/>
<style>

</style>
</h:head>
<h:body >
	
	<p:messages id="messages" showDetail="true" closable="true">
        	<p:autoUpdate />
   	</p:messages>
		
	<div class="login-title-div">
		<h1 class="title-login">Login</h1>
		
	</div>
	
	<h:form id="idLogin" >
	
		<div class="login">
			<div>
				<p:outputLabel value="Nombre de usuario" />

			</div>
			<div style="margin-top:10px">
				<p:inputText id="nombreUsuario"
					value="#{gestionUsuario.usuarioSeleccionado.nombreUsuario}" />
				<p:message for="nombreUsuario" style="color:red" />
			</div>

			<div style="margin-top:20px">
				<p:outputLabel value="Contrasenia" />

			</div>
			<div style="margin-top:10px">
				<!-- <p:inputText id="contrasenia" type="password"
					value="#{gestionUsuario.usuarioSeleccionado.contrasenia}" /> -->
					<p:password  id="contrasenia" value="#{gestionUsuario.usuarioSeleccionado.contrasenia}" feedback="true|false" />
					
				<p:message for="contrasenia" style="color:red" />
			</div>
		
			<p:commandButton style="margin:40px 0px;" value="Login"
				action="#{gestionUsuario.validarUsuario}" />
			<hr/>	
			<div>
				<p:commandButton value="Registrarse" type="button" onclick="PF('dlg').show()" />
			</div>
		</div>
	</h:form>
		<p:dialog showEffect="fade" hideEffect="fade" header="Create    Account" height="600"  widgetVar="dlg" resizable="false">
		<div style="width: 500px;height: 450px;padding: 10px;text-align:center;">
			<h:form id="crearUsuario" >
					<div class="form-title">
						<h2>Registrarse</h2>				
					</div>
					<div>
						<p:outputLabel value="Nombre" />
					</div>
					<div class="input-group">
						<p:inputText class="input-form" id="nombre" value="#{gestionUsuario.usuarioSeleccionado.nombre}" />
						<h:message for="nombre" style="width:100%" />
					</div>
		
					<div>
						<p:outputLabel value="Apellido" />
					</div>
					<div class="input-group">
						<p:inputText class="input-form" id="apellido" value="#{gestionUsuario.usuarioSeleccionado.apellido}" />
						<h:message for="apellido" style="color:red" />
					</div>
		
					<div class="input-group">
						<p:outputLabel value="Nombre de usuario" />
						<div>
							<p:inputText class="input-form" id="nombreUsuario"	value="#{gestionUsuario.usuarioSeleccionado.nombreUsuario}" />
							<h:message for="nombreUsuario" style="color:red" />
						</div>
					</div>
		
					<div>
						<p:outputLabel value="Mail" />
					</div>
					<div class="input-group">
						<p:inputText class="input-form" id="mail" value="#{gestionUsuario.usuarioSeleccionado.mail}" />
						<h:message for="mail" style="color:red" />
					</div>
					<div>
						<p:outputLabel value="Contrasenia" />
		
					</div>
					<div class="input-group">
						<p:password  id="contrasenia"
							value="#{gestionUsuario.usuarioSeleccionado.contrasenia}" />
						<h:message for="contrasenia" style="color:red" />
					</div>
					<div>
						<p:outputLabel value="Rol" />
		
					</div>
					<div class="input-group">
						<p:selectOneMenu id="rol"
							value="#{gestionUsuario.usuarioSeleccionado.rol}">
							<f:selectItem itemValue="" itemLabel="" />
							<f:selectItem itemValue="#{gestionUsuario.admin}" itemLabel="Administrador" />
							<f:selectItem itemValue="#{gestionUsuario.afic}" itemLabel="Aficionado" />
							<f:selectItem itemValue="#{gestionUsuario.inv}" itemLabel="Investigador" />
						</p:selectOneMenu>
					</div>
				<div class="form-button" style="margin:50px">
					<p:commandButton value="Confirmar"  action="#{gestionUsuario.registro }" />
				</div>
			</h:form>
		</div>
	</p:dialog>
	
</h:body>
</html>